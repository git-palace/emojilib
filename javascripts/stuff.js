// Generated by CoffeeScript 1.6.3
$(function() {
  $("input.search").focus();
  $(document).keydown(function(e) {
    if (e.keyCode === 83 && !$("input.search:focus").length) {
      $("input.search").focus();
      return false;
    }
  });
  if (navigator.userAgent.match(/iPad|iPhone/i)) {
    $("li input, .queue").click(function() {
      this.selectionStart = 0;
      return this.selectionEnd = this.value.length;
    });
  } else {
    $("li input").attr("readonly", "readonly");
    $("li, .storyline").on("mouseover", function() {
      var i;
      i = $(this).find("input").get(0);
      i.selectionStart = 0;
      return i.selectionEnd = i.value.length;
    });
  }
  $(".add-all").click(function() {
    return $("li:visible .emoji").click();
  });
  $.fn.addToStoryLine = function() {
    $(this).clone().appendTo(".story").click(function() {
      $(this).remove();
      return $(".queue").val($.map($(".story .emoji"), function(e) {
        return ":" + $(e).attr("title") + ":";
      }).join(""));
    });
    return $(".queue").val($.map($(".story .emoji"), function(e) {
      return ":" + $(e).attr("title") + ":";
    }).join(""));
  };
  return $("body").on("click", "li .emoji", function(e) {
    e.stopPropagation();
    return $(this).addToStoryLine();
  });
});
